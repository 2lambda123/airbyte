micronaut:
  application:
    name: ${SERVICE_NAME}
  security:
    intercept-url-map:
      - pattern: /**
        httpMethod: GET
        access:
          - isAnonymous()

airbyte:
  run_migration_on_startup: ${RUN_DATABASE_MIGRATION_ON_STARTUP:true}
  version: ${AIRBYTE_VERSION}

datasources:
  config:
    connection-test-query: SELECT 1
    connection-timeout: 30000
    idle-timeout: 600000
    maximum-pool-size: 10
    url: ${DATABASE_URL}
    driverClassName: org.postgresql.Driver
    username: ${DATABASE_USER}
    password: ${DATABASE_PASSWORD}
  jobs:
    connection-test-query: SELECT 1
    connection-timeout: 30000
    idle-timeout: 600000
    maximum-pool-size: 10
    url: ${DATABASE_URL}
    driverClassName: org.postgresql.Driver
    username: ${DATABASE_USER}
    password: ${DATABASE_PASSWORD}

endpoints:
  all:
    enabled: true

flyway:
  enabled: true
  datasources:
    config:
      enabled: false
      locations:
        - classpath:io/airbyte/db/instance/configs/migrations
    jobs:
      enabled: false
      locations:
        - classpath:io/airbyte/db/instance/jobs/migrations

jpa:
  default:
    properties:
      hibernate:
        show_sql: true

jooq:
  datasources:
    config:
      jackson-converter-enabled: true
      sql-dialect: 'POSTGRES'
    jobs:
      jackson-converter-enabled: true
      sql-dialect: 'POSTGRES'

logger:
  levels:
    io.airbyte.bootloader: DEBUG
#    io.micronaut.context.condition: DEBUG



