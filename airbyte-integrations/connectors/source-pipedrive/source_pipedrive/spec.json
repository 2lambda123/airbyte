{
  "documentationUrl" : "https://docs.airbyte.com/integrations/sources/pipedrive",
  "supportsIncremental" : true,
  "connectionSpecification" : {
    "$schema" : "http://json-schema.org/draft-07/schema#",
    "title" : "Pipedrive Spec",
    "type" : "object",
    "required" : [
      "replication_start_date"
    ],
    "additionalProperties" : true,
    "properties" : {
      "authorization" : {
        "title" : "Authentication",
        "type" : "object",
        "oneOf" : [
          {
            "type" : "object",
            "title" : "OAuth2.0",
            "required" : [
              "client_id",
              "client_secret",
              "refresh_token"
            ],
            "properties" : {
              "auth_type" : {
                "type" : "string",
                "const" : "oauth2.0"
              },
              "client_id" : {
                "type" : "string",
                "title" : "Client ID",
                "description" : "The client ID of the Airtable developer application.",
                "airbyte_secret" : true
              },
              "client_secret" : {
                "type" : "string",
                "title" : "Client secret",
                "description" : "The client secret the Airtable developer application.",
                "airbyte_secret" : true
              },
              "access_token" : {
                "type" : "string",
                "description" : "Access Token for making authenticated requests.",
                "airbyte_secret" : true
              },
              "token_expiry_date" : {
                "type" : "string",
                "description" : "The date-time when the access token should be refreshed.",
                "format" : "date-time"
              },
              "refresh_token" : {
                "type" : "string",
                "title" : "Refresh token",
                "description" : "The key to refresh the expired access token.",
                "airbyte_secret" : true
              }
            }
          },
          {
            "title" : "API Key Authentication",
            "type" : "object",
            "required" : [
              "api_token"
            ],
            "properties" : {
              "auth_type" : {
                "type" : "string",
                "const" : "Token"
              },
              "api_token" : {
                "type" : "string",
                "description" : "The Pipedrive API Token.",
                "title" : "API Token",
                "airbyte_secret" : true
              }
            }
          }
        ]
      },
      "replication_start_date" : {
        "title" : "Start Date",
        "description" : "UTC date and time in the format 2017-01-25T00:00:00Z. Any data before this date will not be replicated. When specified and not None, then stream will behave as incremental",
        "pattern" : "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$",
        "examples" : [
          "2017-01-25T00:00:00Z"
        ],
        "type" : "string",
        "format" : "date-time"
      }
    }
  },
  "advanced_auth" : {
    "auth_flow_type" : "oauth2.0",
    "predicate_key" : [
      "authorization",
      "auth_type"
    ],
    "predicate_value" : "oauth2.0",
    "oauth_config_specification" : {
      "complete_oauth_output_specification" : {
        "type" : "object",
        "properties" : {
          "refresh_token" : {
            "type" : "string",
            "path_in_connector_config" : [
              "authorization",
              "refresh_token"
            ]
          },
          "access_token" : {
            "type" : "string",
            "path_in_connector_config" : [
              "authorization",
              "access_token"
            ]
          }
        }
      },
      "complete_oauth_server_input_specification" : {
        "type" : "object",
        "properties" : {
          "client_id" : {
            "type" : "string"
          },
          "client_secret" : {
            "type" : "string"
          }
        }
      },
      "complete_oauth_server_output_specification" : {
        "type" : "object",
        "properties" : {
          "client_id" : {
            "type" : "string",
            "path_in_connector_config" : [
              "authorization",
              "client_id"
            ]
          },
          "client_secret" : {
            "type" : "string",
            "path_in_connector_config" : [
              "authorization",
              "client_secret"
            ]
          }
        }
      }
    }
  }
}

