{
  "documentationUrl": "https://docs.airbyte.com/integrations/destinations/chroma",
  "supported_destination_sync_modes": [
    "overwrite", "append"
  ],
  "supportsIncremental": true,
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Destination Chroma",
    "type": "object",
    "required": ["credentials"],
    "additionalProperties": false,
    "properties": {
      "credentials": {
        "type": "object",
        "title": "Authentication",
        "description": "The authentication method",
        "oneOf": [
          {
            "title": "In-Memory",
            "required": ["auth_method"],
            "properties": {
              "auth_method": {
                "description": "Configure Chroma to save and load from your local machine",
                "type": "string",
                "const": "in_memory",
                "order": 0
              }
            }
          },
          {
            "title": "Local Setup",
            "required": ["auth_method", "path"],
            "properties": {
              "auth_method": {
                "description": "Configure Chroma to save and load from your local machine",
                "type": "string",
                "const": "persistent_client",
                "order": 0
              },
              "path": {
                "title": "path",
                "description": "Where Chroma will store its database files on disk, and load them on start.",
                "type": "string",
                "order": 1
              }
            }
          },
          {
            "title": "Client/Server mode",
            "required": ["auth_method", "host", "port"],
            "properties": {
              "auth_method": {
                "description": "Connect through ssh key",
                "type": "string",
                "const": "http_client",
                "order": 0
              },
              "host": {
                "type": "string",
                "description": "The URL to the chromadb instance",
                "examples": [
                  "localhost"
                ]
              },
              "port": {
                "type": "string",
                "description": "The port to the chromadb instance",
                "examples": [
                  "8080"
                ]
              },
              "username": {
                "type": "string",
                "description": "Username used in server/client mode only",
                "examples": ["admin"]
              },
              "password": {
                "type": "string",
                "description": "Password used in server/client mode only",
                "airbyte_secret": true
              }
            }
          }
        ]
      },
      "id_schema": {
        "type": "string",
        "description": "Comma separated list of strings of `stream_name.id_column_name` to specify which field holds the ID of the record.",
        "examples": ["stream_1.id_column_1, stream_2.id_column_2"]
      },
      "embeddings_schema": {
        "type": "string",
        "description": "Comma separated list of strings of `stream_name.embedding` to specify which field holds the embeddings.",
        "examples": ["stream_1.embedding_column_1, stream_2.embedding_column_2"]
      }
    }
  }
}
