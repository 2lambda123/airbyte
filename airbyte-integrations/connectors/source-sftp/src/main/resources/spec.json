{
  "documentationUrl": "https://docs.airbyte.com/integrations/source/sftp",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "SFTP Source Spec",
    "type": "object",
    "required": ["user", "host", "port"],
    "additionalProperties": true,
    "properties": {
      "user": {
        "title": "Username",
        "description": "The username associated with the remote server.",
        "type": "string",
        "order": 0
      },
      "host": {
        "title": "Host Address",
        "description": "The remote server's host address.",
        "type": "string",
        "examples": ["www.host.com", "192.0.2.1"],
        "order": 1
      },
      "port": {
        "title": "Port",
        "description": "The port number used by the remote server for SFTP connections.",
        "type": "integer",
        "default": 22,
        "examples": ["22"],
        "order": 2
      },
      "credentials": {
        "type": "object",
        "title": "Authentication",
        "description": "The server authentication method",
        "order": 3,
        "oneOf": [
          {
            "title": "Password Authentication",
            "required": ["auth_method", "auth_user_password"],
            "properties": {
              "auth_method": {
                "description": "Connect through password authentication",
                "type": "string",
                "const": "SSH_PASSWORD_AUTH",
                "order": 0
              },
              "auth_user_password": {
                "title": "Password",
                "description": "The password used for authentication when logging in to the remote server.",
                "type": "string",
                "airbyte_secret": true,
                "order": 1
              }
            }
          },
          {
            "title": "SSH Key Authentication",
            "required": ["auth_method", "auth_ssh_key"],
            "properties": {
              "auth_method": {
                "description": "Connect through ssh key",
                "type": "string",
                "const": "SSH_KEY_AUTH",
                "order": 0
              },
              "auth_ssh_key": {
                "title": "SSH Private Key",
                "description": "SSH private key used for authentication when logging in to the remote server. See the <a href='https://docs.airbyte.com/integrations/sources/sftp#setup-guide' target='_blank'>setup guide</a> for more information.",
                "type": "string",
                "airbyte_secret": true,
                "multiline": true,
                "order": 1
              }
            }
          }
        ]
      },
      "file_types": {
        "title": "File types",
        "description": "The comma-separated list of file types to replicate. Currently, only CSV and JSON formats are supported.",
        "type": "string",
        "default": "csv,json",
        "order": 4,
        "examples": ["csv,json", "csv"]
      },
      "folder_path": {
        "title": "Folder Path",
        "description": "The optional directory on the remote server to sync files from. See the <a href='https://docs.airbyte.com/integrations/sources/sftp#setup-guide' target='_blank'>setup guide</a> for more information.",
        "type": "string",
        "default": "",
        "examples": ["/logs/2022"],
        "order": 5
      },
      "file_pattern": {
        "title": "File Pattern",
        "description": "The optional regular expression to specify files for sync. See the <a href=`https://docs.airbyte.com/integrations/sources/sftp#setup-guide` target='_blank'>setup guide</a> for more information.",
        "type": "string",
        "default": "",
        "examples": [
          "log-([0-9]{4})([0-9]{2})([0-9]{2}) - This will filter for files matching the naming convention log-YYYYMMDD"
        ],
        "order": 6
      }
    }
  }
}
