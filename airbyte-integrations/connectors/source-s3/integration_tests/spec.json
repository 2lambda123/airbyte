{
    "documentationUrl": "https://docs.airbyte.com/integrations/sources/s3",
    "connectionSpecification": {
      "title": "Config",
      "description": "Used during spec; allows the developer to configure the cloud provider specific options\nthat are needed when users configure a file-based source.",
      "type": "object",
      "properties": {
        "streams": {
          "title": "The list of streams to sync",
          "description": "Each instance of this configuration defines a <a href=\"https://docs.airbyte.com/cloud/core-concepts#stream\">stream</a>. Use this to define which files belong in the stream, their format, and how they should be parsed and validated. When sending data to warehouse destination such as Snowflake or BigQuery, each stream is a separate table.",
          "order": 10,
          "type": "array",
          "items": {
            "title": "FileBasedStreamConfig",
            "type": "object",
            "properties": {
              "name": {
                "title": "Name",
                "description": "The name of the stream.",
                "type": "string"
              },
              "file_type": {
                "title": "File Type",
                "description": "The data file type that is being extracted for a stream.",
                "type": "string"
              },
              "globs": {
                "title": "Globs",
                "description": "The pattern used to specify which files should be selected from the file system. For more information on glob pattern matching look <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\">here</a>.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "validation_policy": {
                "title": "Validation Policy",
                "description": "The name of the validation policy that dictates sync behavior when a record does not adhere to the stream schema.",
                "type": "string"
              },
              "input_schema": {
                "title": "Input Schema",
                "description": "The schema that will be used to validate records extracted from the file. This will override the stream schema that is auto-detected from incoming files.",
                "type": "string"
              },
              "primary_key": {
                "title": "Primary Key",
                "description": "The column or columns (for a composite key) that serves as the unique identifier of a record.",
                "type": "string"
              },
              "days_to_sync_if_history_is_full": {
                "title": "Days To Sync If History Is Full",
                "description": "When the state history of the file store is full, syncs will only read files that were last modified in the provided day range.",
                "default": 3,
                "type": "integer"
              },
              "format": {
                "title": "Format",
                "description": "The configuration options that are used to alter how to read incoming files that deviate from the standard formatting.",
                "type": "object",
                "additionalProperties": true
              },
              "schemaless": {
                "title": "Schemaless",
                "description": "When enabled, syncs will not validate or structure records against the stream's schema.",
                "default": false,
                "type": "boolean"
              }
            },
            "required": [
              "name",
              "file_type",
              "validation_policy"
            ]
          }
        },
        "config_version": {
          "title": "Config Version",
          "default": "0.1",
          "type": "string"
        },
        "bucket": {
          "title": "Bucket",
          "description": "Name of the S3 bucket where the file(s) exist.",
          "order": 0,
          "type": "string"
        },
        "aws_access_key_id": {
          "title": "AWS Access Key ID",
          "description": "In order to access private Buckets stored on AWS S3, this connector requires credentials with the proper permissions. If accessing publicly available data, this field is not necessary.",
          "airbyte_secret": true,
          "order": 1,
          "type": "string"
        },
        "aws_secret_access_key": {
          "title": "AWS Secret Access Key",
          "description": "In order to access private Buckets stored on AWS S3, this connector requires credentials with the proper permissions. If accessing publicly available data, this field is not necessary.",
          "airbyte_secret": true,
          "order": 2,
          "type": "string"
        },
        "endpoint": {
          "title": "Endpoint",
          "description": "Endpoint to an S3 compatible service. Leave empty to use AWS.",
          "default": "",
          "order": 4,
          "type": "string"
        }
      },
      "required": []
    }
}
